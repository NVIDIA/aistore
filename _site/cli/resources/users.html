<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>USERS | AIStore - distributed object storage</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="USERS" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore" />
<meta property="og:description" content="AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore" />
<link rel="canonical" href="http://localhost:4000/aistore/cli/resources/users" />
<meta property="og:url" content="http://localhost:4000/aistore/cli/resources/users" />
<meta property="og:site_name" content="AIStore - distributed object storage" />
<script type="application/ld+json">
{"headline":"USERS","@type":"WebPage","url":"http://localhost:4000/aistore/cli/resources/users","description":"AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/aistore/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/aistore/feed.xml" title="AIStore - distributed object storage" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/aistore/">AIStore - distributed object storage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">USERS</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="" itemprop="datePublished">
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="user-management">User management</h2>

<p>An AIS cluster can be deployed with <a href="/authn/README.md">AuthN</a> - AIS authorization server. The CLI provides an easy way to manage users and to grant and revoke access permissions.</p>

<p>If the AIS cluster does not have guest access enabled, every user that needs access to the cluster data must be registered. Guest access allows unregistered users to use the AIS cluster in read-only mode.</p>

<h2 id="command-list">Command List</h2>

<p>All commands (except logout) require AuthN URL that can be either passed in command line <code class="highlighter-rouge">AUTHN_URL=http://AUTHNSRV ais auth add ...</code> or export environment variable <code class="highlighter-rouge">export AUTHN_URL=http://AUTNSRV</code>. Where <code class="highlighter-rouge">AUTHNSRV</code> is hostname:port of AuthN server.</p>

<p>Adding and removing a user requires superuser permissions. Superuser login and password can be provided in command line:</p>

<p><code class="highlighter-rouge">AUTHN_SU_NAME=admin AUTHN_SU_PASS=admin ais auth add ...</code></p>

<p>or you can set environment variables globally with:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">AUTHN_SU_NAME</span><span class="o">=</span>admin
<span class="nv">$ </span><span class="nb">export </span><span class="nv">AUTHN_SU_PASS</span><span class="o">=</span>admin
<span class="nv">$ </span>ais auth add ...
</code></pre></div></div>

<p>or just run:</p>

<p><code class="highlighter-rouge">ais auth add..</code></p>

<p>In the last case, the CLI detects that there is not enough information and prompts for missing data in interactive mode. E.g, you can keep superuser name in an environment variable and <code class="highlighter-rouge">ais</code> will prompt for superuser's password:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">AUTHN_SU_NAME</span><span class="o">=</span>admin
<span class="nv">$ </span>ais auth add ...
Superuser login:
</code></pre></div></div>

<h3 id="register-a-new-user">Register a new user</h3>

<p><code class="highlighter-rouge">ais auth add USER_NAME USER_PASS</code></p>

<p>Register the user if a user with the same name does not exist yet and grants full access permissions to cluster data. For security reasons, user's password can be omitted(and user's name as well). In this case, the CLI prompts for every missing argument in interactive mode.</p>

<p><strong>Examples:</strong></p>

<p>Everything is set in command line:</p>

<p><code class="highlighter-rouge">AUTHN_URL=http://AUTHNSRV AUTHN_SU_NAME=admin AUTHN_SU_PASS=admin ais auth add username password</code></p>

<p>AuthN URL and superuser's name are already exported. Short command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ais auth add username
Superuser password: admin
User password: password
</code></pre></div></div>

<h3 id="unregister-an-existing-user">Unregister an existing user</h3>

<p><code class="highlighter-rouge">ais auth rm USER_NAME</code></p>

<p>Remove an existing user and revokes all tokens issued for the user.</p>

<h3 id="log-in-to-ais-cluster">Log in to AIS cluster</h3>

<p><code class="highlighter-rouge">ais auth login USER_NAME USER_PASS</code></p>

<p>Issue a token for a user. After successful login, user's token is saved to <code class="highlighter-rouge">~/.ais/token</code> and next CLI runs automatically load and use the token in every request to AIS cluster. The saved token can be used by other applications, like <code class="highlighter-rouge">curl</code>. Please see <a href="/authn/README.md">AuthN documentation</a> to read how to use AuthN API directly.</p>

<h3 id="log-out">Log out</h3>

<p><code class="highlighter-rouge">ais auth logout</code></p>

<p>Erase user's token from a local machine, so the CLI switches to read-only mode(if guest access is enabled for AIS cluster). But other applications still can use the issued token. To forbid using the token from any application, the token must be revoked in addition to logging out.</p>

  </div><a class="u-url" href="/aistore/cli/resources/users" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/aistore/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">AIStore - distributed object storage</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">AIStore - distributed object storage</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore
</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
