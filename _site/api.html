<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>API | AIStore - distributed object storage</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="API" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore" />
<meta property="og:description" content="AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore" />
<link rel="canonical" href="http://localhost:4000/aistore/api" />
<meta property="og:url" content="http://localhost:4000/aistore/api" />
<meta property="og:site_name" content="AIStore - distributed object storage" />
<script type="application/ld+json">
{"headline":"API","@type":"WebPage","url":"http://localhost:4000/aistore/api","description":"AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/aistore/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/aistore/feed.xml" title="AIStore - distributed object storage" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/aistore/">AIStore - distributed object storage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">API</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="" itemprop="datePublished">
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="aistore-client-api">AIStore Client API</h2>

<h2 id="overview">Overview</h2>
<p>The AIStore Client API package provides wrappers for core AIStore RESTful operations. The <code class="highlighter-rouge">api</code> package can be imported by other projects for quickly integrating AIStore functionality with minimal imports of other supporting packages.</p>

<h2 id="types-of-operations">Types of Operations</h2>
<p>The APIs provided are separated into different levels of granularity:</p>

<ol>
  <li>Cluster,</li>
  <li>Daemon,</li>
  <li>Bucket,</li>
  <li>Object.</li>
</ol>

<h3 id="cluster"><strong>Cluster</strong></h3>

<h4 id="getclustermap">GetClusterMap</h4>
<p>Retrieves AIStore’s cluster map as stored by the proxy to which this request is sent</p>

<h5 id="parameters">Parameters</h5>
<p>| Name        | Type         | Description                                                                           |
|-------------|--------------|---------------------------------------------------------------------------------------|
|  httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL    | string       | URL of the proxy to which the HTTP Request is sent                                    |</p>

<h5 id="return">Return</h5>
<p>A copy of type <code class="highlighter-rouge">cluster.Smap</code> containing a map of targets, a map of proxies, proxies non-eligible for primary, the current primary proxy, and the version of the cluster map</p>

<p>Error from AIStore in completing the request
___</p>
<h4 id="setprimaryproxy">SetPrimaryProxy</h4>
<p>Given a daemonID, it sets that proxy as the primary proxy of the cluster</p>

<h5 id="parameters-1">Parameters</h5>
<p>| Name         | Type         | Description                                                                           |
|--------------|--------------|---------------------------------------------------------------------------------------|
|  httpClient  | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL     | string       | URL of the proxy to which the HTTP Request is sent                                    |
| newPrimaryID | string       | DaemonID of the new primary proxy                                                     |</p>
<h5 id="return-1">Return</h5>
<p>Error from AIStore in completing the request
___</p>
<h4 id="setclusterconfig">SetClusterConfig</h4>
<p>Given key-value pairs of configuration parameters, this operation sets the cluster-wide configuration accordingly. Setting cluster-wide configuration requires sending the request to a proxy</p>

<h5 id="parameters-2">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| nvs        | key-values   | Map of key-value pairs of configuration parameters to be set                          |</p>

<h5 id="return-2">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="registernode">RegisterNode</h4>
<p>Registers an existing node to the clustermap.</p>

<h5 id="parameters-3">Parameters</h5>
<p>| Name       | Type           | Description                                                                           |
|------------|----------------|---------------------------------------------------------------------------------------|
| httpClient |  *http.Client  | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string         | URL of the proxy to which the HTTP Request is sent                                    |
| nodeInfo   | *cluster.Snode | Pointer to a cluster.Snode struct containing details of the new node                  |</p>

<h5 id="return-3">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="unregisternode">UnregisterNode</h4>
<p>Unregisters an existing node from the clustermap.</p>

<h5 id="parameters-4">Parameters</h5>
<p>| Name          | Type         | Description                                                                           |
|---------------|--------------|---------------------------------------------------------------------------------------|
| httpClient    | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL      | string       | URL of the proxy to which the HTTP Request is sent                                    |
| unregisterSID | string       | DaemonID of the node to be unregistered                                               |</p>

<h5 id="return-4">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h3 id="daemon"><strong>Daemon</strong></h3>

<h4 id="getmountpaths">GetMountpaths</h4>
<p>Given the direct public URL of a target, <code class="highlighter-rouge">GetMountpaths</code> returns its mountpaths</p>

<h5 id="parameters-5">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| targetURL  | string       | URL of the target to which the HTTP Request is sent                                   |</p>
<h5 id="return-5">Return</h5>
<p>A pointer to an instance of a <code class="highlighter-rouge">cmn.MountpathList</code> struct consisting of Available and Disabled mountpaths of a specific target</p>

<p>Error from AIStore in completing the request
___</p>

<h4 id="addmountpath">AddMountpath</h4>
<p>Given a target and a mountpath, <code class="highlighter-rouge">AddMountpath</code> adds that mountpath to the specified target</p>
<h5 id="parameters-6">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| targetURL  | string       | URL of the target to which the HTTP Request is sent                                   |
| mountPath  | string       | Mountpath to be added to a target                                                     |</p>
<h5 id="return-6">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="removemountpath">RemoveMountpath</h4>
<p>Given a target and a mountpath, <code class="highlighter-rouge">RemoveMountpath</code> removes that mountpath from the specified target</p>

<h5 id="parameters-7">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| targetURL  | string       | URL of the target to which the HTTP Request is sent                                   |
| mountPath  | string       | Mountpath to be removed from a target                                                 |</p>

<h5 id="return-7">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="enablemountpath">EnableMountpath</h4>
<p>Given a target and a mountpath, <code class="highlighter-rouge">EnableMountpath</code> enables that mountpath on the specified target</p>

<h5 id="parameters-8">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| targetURL  | string       | URL of the target to which the HTTP Request is sent                                   |
| mountPath  | string       | Mountpath to be enabled on a target                                                   |</p>

<h5 id="return-8">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="disablemountpath">DisableMountpath</h4>
<p>Given a target and a mountpath, <code class="highlighter-rouge">DisableMountpath</code> disables that mountpath on the specified target</p>

<h5 id="parameters-9">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| targetURL  | string       | URL of the target to which the HTTP Request is sent                                   |
| mountPath  | string       | Mountpath to be disabled on a target                                                  |</p>
<h5 id="return-9">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="getdaemonconfig">GetDaemonConfig</h4>
<p>Given the URL of a daemon, <code class="highlighter-rouge">GetDaemonConfig</code> returns the corresponding daemon’s configuration settings</p>
<h5 id="parameters-10">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| daemonURL  | string       | URL of the daemon to which the HTTP Request is sent                                   |</p>

<h5 id="return-10">Return</h5>
<p>A pointer to an instance of type <code class="highlighter-rouge">cmn.Config</code> containing all the configuration settings applied to a specific daemon</p>

<p>Error from AIStore in completing the request
___</p>

<h4 id="setdaemonconfig">SetDaemonConfig</h4>
<p>Given key-value pairs of configuration parameters, <code class="highlighter-rouge">SetDaemonConfig</code> sets the configuration accordingly for a specific daemon</p>
<h5 id="parameters-11">Parameters</h5>
<p>| Name       | Type              | Description                                                                           |
|------------|-------------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client      | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| daemonURL  | string            | URL of the daemon to which the HTTP Request is sent                                   |
| nvs        | key-values        | Map of key-value pairs of configuration parameters to be set                          |</p>

<h5 id="return-11">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h3 id="bucket"><strong>Bucket</strong></h3>

<h4 id="headbucket">HeadBucket</h4>
<p>Given a bucket name, returns its properties</p>

<h5 id="parameters-12">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the bucket                                                                    |
| query      | url.Values   | Optional URL query values such as <a href="#url_query_values"><code class="highlighter-rouge">?provider</code></a>                    |</p>

<h5 id="return-12">Return</h5>
<p>A pointer to an instance of <code class="highlighter-rouge">cmn.BucketProps</code>, consisting of all the properties of the specified bucket</p>

<p>Error from AIStore in completing the request
___</p>

<h4 id="getbucketnames">GetBucketNames</h4>
<p>Given the url of an existing proxy in a cluster, <code class="highlighter-rouge">GetBucketNames</code> returns the names of all existing local and cloud buckets</p>

<h5 id="parameters-13">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| provider   | string       | One of “” (empty), “cloud”, “ais”, “aws”, “gcp”. If the value is empty, returns all bucket names. Otherwise, returns only “cloud” or “ais” buckets.|</p>

<h5 id="return-13">Return</h5>
<p>Two lists: one for the names of ais buckets, and the other for the names of cloud buckets</p>

<p>Error from AIStore in completing the request
___</p>

<h4 id="createlocalbucket">CreateLocalBucket</h4>
<p>Creates an ais bucket with a given name</p>

<h5 id="parameters-14">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the bucket                                                                    |</p>
<h5 id="return-14">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="copylocalbucket">CopyLocalBucket</h4>
<p>Create new bucket and copy into it all objects from the existing (old) one</p>

<h5 id="parameters-15">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| oldName    | string       | Name of the existing bucket                                                           |
| newName    | string       | Name of the new bucket                                                                |</p>

<h4 id="renamelocalbucket">RenameLocalBucket</h4>
<p>Rename an existing bucket to the new name provided</p>

<h5 id="parameters-16">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| oldName    | string       | Name of the existing bucket                                                           |
| newName    | string       | New name for the existing bucket                                                      |</p>

<h5 id="return-15">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="destroylocalbucket">DestroyLocalBucket</h4>
<p>Removes an ais bucket using its name as the identifier</p>

<h5 id="parameters-17">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the existing bucket                                                           |</p>

<h5 id="return-16">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="evictcloudbucket">EvictCloudBucket</h4>
<p>Evicts a cloud bucket using its name as the identifier</p>

<h5 id="parameters-18">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the existing bucket                                                           |
| query      | url.Values   | Optional URL query values such as <a href="#url_query_values"><code class="highlighter-rouge">?provider</code></a>                    |</p>
<h5 id="return-17">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="setbucketprops">SetBucketProps</h4>
<p>Sets the properties of a bucket via action message, using the bucket name as the identifier and the bucket properties to be set</p>
<blockquote>
  <p>Need to set all bucket properties</p>
</blockquote>

<h5 id="parameters-19">Parameters</h5>
<p>| Name       | Type            | Description                                                                           |
|------------|-----------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client    | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string          | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string          | Name of the existing bucket                                                           |
| props      | cmn.BucketProps | Bucket properties to be set                                                           |
| query      | url.Values      | Optional URL query values such as <a href="#url_query_values"><code class="highlighter-rouge">?provider</code></a>                    |</p>

<h5 id="return-18">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="resetbucketprops">ResetBucketProps</h4>
<p>Resets the properties of a bucket, identified by its name, to the global configuration</p>

<h5 id="parameters-20">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the existing bucket                                                           |
| query      | url.Values   | Optional URL query values such as <a href="#url_query_values"><code class="highlighter-rouge">?provider</code></a>                    |</p>

<h5 id="return-19">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h3 id="object"><strong>Object</strong></h3>

<h4 id="headobject">HeadObject</h4>
<p>Returns the size and version of an object identified by a combination of its bucket and object names</p>

<h5 id="parameters-21">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the bucket storing the object                                                 |
| provider   | string       | Cloud provider, one of: “”, “cloud”, “ais”, “gcp”, “aws”. If not specified (“”), AIS determines the value by checking bucket metadata |
| object     | string       | Name of the object                                                                    |</p>

<h5 id="return-20">Return</h5>
<p>A pointer of an instance of <code class="highlighter-rouge">cmn.ObjectProps</code>, containing information on the size and version of the object</p>

<p>Error from AIStore in completing the request
___</p>

<h4 id="getobject">GetObject</h4>
<p>Returns the size of the object. Does not validate checksum of the object in the response</p>

<p>Writes the response body to a writer if one is specified in the optional <code class="highlighter-rouge">GetObjectInput.Writer</code>
Otherwise, it discards the response body read.</p>

<h5 id="parameters-22">Parameters</h5>
<p>| Name       | Type           | Description                                                                           |
|------------|----------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client   | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string         | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string         | Name of the bucket storing the object                                                 |
| object     | string         | Name of the object                                                                    |
| options    | GetObjectInput | Optional field with a custom Writer and URL Query values                              |</p>

<h5 id="return-21">Return</h5>
<p>Size of the object computed from the number of bytes read</p>

<p>Error from AIStore in completing the request
___</p>

<h4 id="getobjectwithvalidation">GetObjectWithValidation</h4>
<p>Same behavior as <code class="highlighter-rouge">GetObject</code>, but performs checksum validation of the object by comparing the checksum in the response header with the calculated checksum value derived from the returned object.</p>

<h5 id="parameters-23">Parameters</h5>
<p>| Name       | Type           | Description                                                                           |
|------------|----------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client   | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string         | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string         | Name of the bucket storing the object                                                 |
| object     | string         | Name of the object                                                                    |
| options    | GetObjectInput | Optional field with a custom Writer and URL Query values                              |</p>

<h5 id="return-22">Return</h5>
<p>Size of the object computed from the number of bytes read</p>

<p>Error from AIStore in completing the request
___</p>

<h4 id="putobject">PutObject</h4>
<p>Creates an object from the body of the <code class="highlighter-rouge">cmn.ReadOpenCloser</code> argument and puts it in the bucket identified by its name. The name of the object put is likewise identified by its name. If the object hash passed in is not empty, the value is set in the request header with the default checksum type “xxhash”</p>
<h5 id="parameters-24">Parameters</h5>
<p>| Name          | Type                 | Description                                                                           |
|---------------|----------------------|---------------------------------------------------------------------------------------|
| args          | PutObjectArgs        | A field that handles the arguments for PutObject                                      |
| replicateOpts | ReplicateObjectInput | Used to hold optional parameters for PutObject when it is used for replication        |</p>

<h5 id="putobjectargs">PutObjectArgs</h5>
<p>| Name       | Type               | Description                                                                           |
|------------|--------------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client       | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string             | URL of the proxy to which the HTTP Request is sent                                    |
| Bucket     | string             | Name of the bucket storing the object                                                 |
| Provider   | string             | Cloud provider, one of: “”, “cloud”, “ais”, “gcp”, “aws”. If not specified (“”), AIS determines it by checking bucket metadata |
| Object     | string             | Name of the object                                                                    |
| Hash       | string             | Hash computed for the object                                                          |
| Reader     | cmn.ReadOpenCloser | Interface used to read the bytes of object data                                       |</p>

<h5 id="replicateobjectinput">ReplicateObjectInput</h5>
<p>| Name       | Type               | Description                                                                                          |
|------------|--------------------|------------------------------------------------------------------------------------------------------|
| SourceURL  | string             | Used to set the request header to determine whether PUT object request is for replication in AIStore |</p>

<h5 id="return-23">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="renameobject">RenameObject</h4>
<p>Renames an existing object</p>

<h5 id="parameters-25">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the bucket storing the object                                                 |
| oldName    | string       | Name of the existing object                                                           |
| newName    | string       | New name for the existing object                                                      |</p>

<h5 id="return-24">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="replicateobject">ReplicateObject</h4>
<p>Replicates a given object</p>

<h5 id="parameters-26">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the bucket storing the object                                                 |
| object     | string       | Name of the object to be replicated                                                   |</p>

<h5 id="return-25">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="deleteobject">DeleteObject</h4>
<p>Deletes an object identified by the combination of its bucket and object name</p>

<h5 id="parameters-27">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the bucket storing the object                                                 |
| object     | string       | Name of the object to be replicated                                                   |
| provider   | string       | Cloud provider, one of “”, “cloud”, “ais”. Other supported values include “aws” and “gcp”, for Amazon and Google clouds, respectively |</p>

<h5 id="return-26">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h4 id="evictobject">EvictObject</h4>
<p>Evicts an object identified by the combination of its bucket and object name</p>

<h5 id="parameters-28">Parameters</h5>
<p>| Name       | Type         | Description                                                                           |
|------------|--------------|---------------------------------------------------------------------------------------|
| httpClient | *http.Client | HTTP Client used to create and process the HTTP Request and return the HTTP Response  |
| proxyURL   | string       | URL of the proxy to which the HTTP Request is sent                                    |
| bucket     | string       | Name of the bucket storing the object                                                 |
| object     | string       | Name of the object to be evicted                                                      |</p>
<h5 id="return-27">Return</h5>
<p>Error from AIStore in completing the request
___</p>

<h3 id="optional-parameters">Optional Parameters</h3>

<p><strong>ParamsOptional</strong>
| Name    | Type          | Description                                                                                           |
|---------|---------------|-------------------------------------------------------------------------------------------------------|
| Query   | url.Values    | Map of string keys to slice of strings values, used to set the URL.RawQuery field of the HTTP Request |
| Headers | http.Header   | Map of string keys to string values, used to set the HTTP Request header                              |
___</p>

<h3 id="url-query-values">URL Query Values</h3>
<p>| Name | Fields | Description |
| --- | --- | --- |
| provider | “”, “cloud”, “ais” | Cloud provider - “cloud” or “ais”. Other supported values include “gcp” and “aws”, for Amazon and Google clouds, respectively. If omitted, provider of the bucket is determined by checking bucket metadata |</p>

<h2 id="basic-api-workflow">Basic API Workflow</h2>
<p>A sample demo of the APIs listed above:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="n">demo</span><span class="p">()</span> <span class="kt">error</span> <span class="p">{</span>
	<span class="k">var</span> <span class="p">(</span>
        <span class="n">httpClient</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">"http://localhost:8080"</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="s">"DemoBucket"</span>
        <span class="n">object</span> <span class="o">=</span> <span class="s">"DemoObject"</span>
	<span class="p">)</span>

    <span class="c">// Fetch cluster map</span>
    <span class="n">smap</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">api</span><span class="o">.</span><span class="n">GetClusterMap</span><span class="p">(</span><span class="n">httpClient</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Errors</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="s">"Getting clustermap failed, %v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
 
    <span class="n">primaryProxyURL</span> <span class="o">:=</span> <span class="n">smap</span><span class="o">.</span><span class="n">ProxySI</span><span class="o">.</span><span class="n">PublicNet</span><span class="o">.</span><span class="n">DirectURL</span>
 
    <span class="c">// Create ais bucket</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">CreateLocalBucket</span><span class="p">(</span><span class="n">httpClient</span><span class="p">,</span> <span class="n">primaryProxyURL</span><span class="p">,</span> <span class="n">bucket</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Errors</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="s">"Creating ais bucket failed, %v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
 
    <span class="n">newBucketName</span> <span class="o">=</span> <span class="s">"DemoBucketNew"</span>
    <span class="c">// Rename ais bucket</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">RenameLocalBucket</span><span class="p">(</span><span class="n">httpClient</span><span class="p">,</span> <span class="n">primaryProxyURL</span><span class="p">,</span> <span class="n">bucket</span><span class="p">,</span> <span class="n">newBucketName</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Errors</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="s">"Renaming ais bucket failed, %v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

  </div><a class="u-url" href="/aistore/api" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/aistore/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">AIStore - distributed object storage</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">AIStore - distributed object storage</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>AIStore is a lightweight object storage system with the capability to linearly scale-out with each added storage node and a special focus on petascale deep learning. See more at: github.com/NVIDIA/aistore
</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
